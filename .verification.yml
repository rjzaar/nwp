# NWP Feature Verification Tracking
#
# This file tracks which features have been manually verified by a human.
# When code is modified, the verification status is automatically invalidated.
#
# Fields:
#   verified: true/false - whether a human has verified this feature
#   verified_by: name of the person who verified
#   verified_at: timestamp of verification
#   file_hash: SHA256 hash of the file(s) when verified (used to detect changes)
#   notes: optional notes about the verification
#
# Run ./verify.sh to view and manage verification status

version: 2

features:
  # ============================================================
  # CORE SCRIPTS
  # ============================================================

  setup:
    name: "Setup Script (setup.sh)"
    description: "NWP prerequisites setup - Docker, DDEV, mkcert, Linode CLI, GitLab"
    files:
      - setup.sh
    checklist:
      - text: "Run setup.sh on a fresh system and verify all prerequisites install"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test Docker installation and verify ddev starts correctly"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify mkcert generates valid local certificates"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test Linode CLI authentication if configured"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check that all error messages are clear and actionable"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: "3797d2ec18d9d499f4452dc3178fd9ad2eedd583cfad3ea228baf3543da7bf1b"
    notes: "Auto-invalidated: files changed"

  install:
    name: "Install Script (install.sh)"
    description: "Main installation script - reads cnwp.yml and installs sites"
    files:
      - install.sh
      - lib/install-common.sh
      - lib/install-drupal.sh
      - lib/install-steps.sh
    checklist:
      - text: "Test fresh install with each recipe type (nwp, d, os, dm)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify site starts and is accessible via browser"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check admin login works with generated credentials"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test install with --list and --steps flags"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify cnwp.yml is updated correctly after install"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test re-running install on existing site (should skip/warn)"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  status:
    name: "Status Script (status.sh)"
    description: "Status display, health checks, and site management"
    files:
      - status.sh
    checklist:
      - text: "Run status.sh with no arguments - verify all sites listed"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Run status.sh <sitename> - verify detailed info shown"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check running/stopped status is accurate"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify URLs displayed are correct and accessible"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test health check indicators (database, files, config)"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  modify:
    name: "Modify Script (modify.sh)"
    description: "Interactive TUI for modifying site options"
    files:
      - modify.sh
    checklist:
      - text: "Run modify.sh <sitename> and navigate TUI menus"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test changing site options (theme, modules, etc.)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify changes are saved to cnwp.yml correctly"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test cancel/exit without saving"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check keyboard navigation (arrows, enter, escape)"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  backup:
    name: "Backup Script (backup.sh)"
    description: "Site backup with database, files, git backup, and sanitization"
    files:
      - backup.sh
      - lib/git.sh
      - lib/sanitize.sh
    checklist:
      - text: "Test full backup: ./backup.sh <sitename>"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test database-only backup: ./backup.sh -b <sitename>"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify backup files created in sitebackups/<sitename>/"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test --sanitize basic and --sanitize full flags"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test --git flag pushes to GitLab repository"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test --bundle creates git bundle file"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify backup naming convention includes timestamp"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  restore:
    name: "Restore Script (restore.sh)"
    description: "Site restoration from backups"
    files:
      - restore.sh
      - lib/rollback.sh
    checklist:
      - text: "Test restore from full backup"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test restore from database-only backup"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify interactive backup selection works"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test restore with specific backup file path"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify site works correctly after restore"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test restore to different site name"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  sync:
    name: "Sync Script (sync.sh)"
    description: "Re-sync imported sites with remote sources"
    files:
      - sync.sh
    checklist:
      - text: "Test sync with an imported site"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify database is updated from remote"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check files are synced correctly"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test sync with --files-only flag"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify local changes are not overwritten unexpectedly"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  copy:
    name: "Copy Script (copy.sh)"
    description: "Copy/duplicate existing sites"
    files:
      - copy.sh
    checklist:
      - text: "Test full copy: ./copy.sh source dest"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test files-only copy: ./copy.sh -f source dest"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify copied site starts and runs independently"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check database is correctly duplicated"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify cnwp.yml is updated with new site"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test copy to existing site (should warn/fail)"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  delete:
    name: "Delete Script (delete.sh)"
    description: "Site deletion with safety checks"
    files:
      - delete.sh
    checklist:
      - text: "Test delete with confirmation prompt"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test delete with -y auto-confirm flag"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test delete with -b backup flag (creates backup first)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify DDEV project is stopped and removed"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify site directory is removed"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check cnwp.yml is updated to remove site"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test protection of production sites (should warn)"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  make:
    name: "Make Script (make.sh)"
    description: "Site mode switching (dev/staging/production)"
    files:
      - make.sh
    checklist:
      - text: "Test dev mode: ./make.sh -v <sitename>"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test prod mode: ./make.sh -p <sitename>"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify dev mode enables devel module and disables caching"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify prod mode uninstalls dev modules and enables caching"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check CSS/JS aggregation settings change correctly"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test with -y auto-confirm flag"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  migration:
    name: "Migration Script (migration.sh)"
    description: "Site migrations from various sources to Drupal 11"
    files:
      - migration.sh
    checklist:
      - text: "Test migration from Drupal 7 source"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test migration from Drupal 9/10 source"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify content types are migrated correctly"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check users and roles are migrated"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify media/files are migrated"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test migration rollback if available"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  import:
    name: "Import Script (import.sh)"
    description: "Import existing sites from remote sources"
    files:
      - import.sh
      - lib/import.sh
      - lib/import-tui.sh
      - lib/server-scan.sh
    checklist:
      - text: "Test import from SSH remote server"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test interactive server scanning"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify database is imported correctly"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check files are downloaded and placed correctly"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify imported site starts and runs"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test import with specific database/files paths"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  # ============================================================
  # DEPLOYMENT SCRIPTS
  # ============================================================

  live:
    name: "Live Provisioning (live.sh)"
    description: "Live server provisioning at sitename.nwpcode.org"
    files:
      - live.sh
    checklist:
      - text: "Test Linode server creation (use test mode if available)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify DNS configuration with Cloudflare"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check SSL certificate is installed correctly"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify site is accessible at sitename.nwpcode.org"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test SSH access to provisioned server"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify firewall rules are applied"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  dev2stg:
    name: "Dev to Staging (dev2stg.sh)"
    description: "Deploy from dev to staging with TUI, multi-source DB, and testing"
    files:
      - dev2stg.sh
      - lib/state.sh
      - lib/database-router.sh
      - lib/testing.sh
      - lib/preflight.sh
      - lib/dev2stg-tui.sh
    checklist:
      - text: "Test preflight only: ./dev2stg.sh --preflight <sitename>"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test TUI mode: ./dev2stg.sh <sitename> (navigate DB and test menus)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test automated mode: ./dev2stg.sh -y <sitename>"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test auto-staging creation when staging doesn't exist"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test database sources: auto, production, backup, development"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test with --fresh-backup flag (requires production access)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test with --dev-db flag (clones from development)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test test presets: -t quick, -t essential, -t full, -t skip"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test custom test selection: -t phpunit,phpstan"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify all 11 deployment steps complete successfully"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify staging has production mode (caching enabled, dev modules off)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify database sanitization (user emails anonymized)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test step resume: ./dev2stg.sh -s 5 <sitename>"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: "Enhanced with TUI, multi-source DB, testing - January 2026"

  stg2prod:
    name: "Staging to Production (stg2prod.sh)"
    description: "Deploy from staging to production"
    files:
      - stg2prod.sh
    checklist:
      - text: "Test deployment with backup: ./stg2prod.sh -b <sitename>"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify backup is created before deployment"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check production site is updated correctly"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify production mode is enforced"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test database sync options"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify rollback procedure if deployment fails"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  prod2stg:
    name: "Production to Staging (prod2stg.sh)"
    description: "Sync production back to staging"
    files:
      - prod2stg.sh
    checklist:
      - text: "Test sync: ./prod2stg.sh <sitename>"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify production database is copied to staging"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check files are synced correctly"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify staging still has dev code (code not synced)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test sanitization option if available"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  stg2live:
    name: "Staging to Live (stg2live.sh)"
    description: "Deploy staging to live server"
    files:
      - stg2live.sh
    checklist:
      - text: "Test deployment to live server"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify files are synced via rsync/SSH"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check database is deployed correctly"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify live site is accessible"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test with dry-run mode if available"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  live2stg:
    name: "Live to Staging (live2stg.sh)"
    description: "Promote live back to staging"
    files:
      - live2stg.sh
    checklist:
      - text: "Test sync from live to local staging"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify database is downloaded and imported"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check files are synced correctly"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify staging runs with live content"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  live2prod:
    name: "Live to Production (live2prod.sh)"
    description: "Promote live to production"
    files:
      - live2prod.sh
    checklist:
      - text: "Test promotion to production environment"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify backup is created before promotion"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check production site is updated"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test rollback procedure"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  produce:
    name: "Produce Script (produce.sh)"
    description: "Production environment setup"
    files:
      - produce.sh
    checklist:
      - text: "Test production environment creation"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify production settings are applied"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check security hardening is enabled"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify caching and performance settings"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  # ============================================================
  # INFRASTRUCTURE SCRIPTS
  # ============================================================

  podcast:
    name: "Podcast Infrastructure (podcast.sh)"
    description: "Castopod podcast hosting infrastructure"
    files:
      - podcast.sh
      - lib/podcast.sh
      - lib/install-podcast.sh
    checklist:
      - text: "Test podcast site creation"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify Castopod is installed correctly"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check podcast admin interface works"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test podcast RSS feed generation"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify media upload functionality"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  schedule:
    name: "Schedule Script (schedule.sh)"
    description: "Backup and sync scheduling"
    files:
      - schedule.sh
    checklist:
      - text: "Test schedule creation for backups"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify cron jobs are created correctly"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check scheduled backups run as expected"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test schedule removal"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify schedule listing works"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  security:
    name: "Security Script (security.sh)"
    description: "Security hardening and configuration"
    files:
      - security.sh
    checklist:
      - text: "Test security audit: ./security.sh audit <sitename>"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test security check: ./security.sh check <sitename>"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test security update: ./security.sh update <sitename>"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify file permissions are checked correctly"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check dev module detection works"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify exposed file detection works"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  setup_ssh:
    name: "SSH Setup (setup-ssh.sh)"
    description: "SSH key generation and management"
    files:
      - setup-ssh.sh
    checklist:
      - text: "Test SSH key generation"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify keys are created in keys/ directory"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check key is installed to ~/.ssh/nwp"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test connection to remote server with generated key"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify public key output for Linode"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  uninstall:
    name: "Uninstall Script (uninstall_nwp.sh)"
    description: "Complete NWP uninstallation"
    files:
      - uninstall_nwp.sh
    checklist:
      - text: "Test in dry-run mode if available"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify all DDEV projects are stopped"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check NWP directories are removed"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify Docker resources are cleaned up"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test partial uninstall options if available"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  # ============================================================
  # CLI & TESTING
  # ============================================================

  pl_cli:
    name: "PL CLI Wrapper (pl)"
    description: "Universal CLI wrapper - main command interface"
    files:
      - pl
    checklist:
      - text: "Test pl command with various subcommands"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify pl install works"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify pl backup works"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check pl status works"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test tab completion if available"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify help output is correct"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  test_nwp:
    name: "Test Suite (test-nwp.sh)"
    description: "Comprehensive test suite - 22 test categories"
    files:
      - test-nwp.sh
      - test.sh
      - testos.sh
    checklist:
      - text: "Run full test suite: ./test-nwp.sh"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify all test categories pass"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check test output is clear and readable"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test individual test categories"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify testos.sh OpenSocial tests work"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check Behat/PHPUnit integration if applicable"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  # ============================================================
  # LIBRARY MODULES
  # ============================================================

  lib_tui:
    name: "TUI Library (lib/tui.sh)"
    description: "Terminal UI framework - menus, checkboxes, forms"
    files:
      - lib/tui.sh
    checklist:
      - text: "Test menu display and navigation"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify checkbox selection works"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test form input fields"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check color rendering in different terminals"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify keyboard shortcuts work correctly"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  lib_checkbox:
    name: "Checkbox Library (lib/checkbox.sh)"
    description: "Advanced interactive checkbox selection"
    files:
      - lib/checkbox.sh
    checklist:
      - text: "Test checkbox display with multiple items"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify space bar toggles selection"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check arrow key navigation"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test Enter to confirm selection"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify Escape to cancel"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  lib_yaml_write:
    name: "YAML Write Library (lib/yaml-write.sh)"
    description: "YAML file manipulation without yq"
    files:
      - lib/yaml-write.sh
    checklist:
      - text: "Test reading YAML values"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test writing/updating YAML values"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify nested value handling"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check array handling"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test with special characters in values"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  lib_common:
    name: "Common Library (lib/common.sh)"
    description: "Common utilities - validation, secrets, prompts"
    files:
      - lib/common.sh
    checklist:
      - text: "Test get_secret() reads from .secrets.yml"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test get_setting() reads from cnwp.yml"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify sitename validation"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check prompt functions work correctly"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test path handling utilities"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  lib_ui:
    name: "UI Library (lib/ui.sh)"
    description: "Basic UI utilities - colors, status messages"
    files:
      - lib/ui.sh
    checklist:
      - text: "Test print_status with OK, WARN, FAIL, INFO"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify colors display correctly"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check print_header formatting"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test print_error output"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify ocmsg debug output"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  lib_git:
    name: "Git Library (lib/git.sh)"
    description: "Git backup, bundling, GitLab API operations"
    files:
      - lib/git.sh
    checklist:
      - text: "Test git backup creation"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify git bundle creation"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test GitLab API project creation"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check git push to remote"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify incremental backup handling"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  lib_cloudflare:
    name: "Cloudflare Library (lib/cloudflare.sh)"
    description: "Cloudflare DNS and SSL management"
    files:
      - lib/cloudflare.sh
    checklist:
      - text: "Test DNS record creation"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify DNS record lookup"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check zone ID resolution"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test API authentication"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify error handling for API failures"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  lib_linode:
    name: "Linode Library (lib/linode.sh)"
    description: "Linode API operations and provisioning"
    files:
      - lib/linode.sh
    checklist:
      - text: "Test Linode instance creation (use test mode)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify instance listing"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check API token authentication"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test instance deletion"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify error handling"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  lib_b2:
    name: "B2 Library (lib/b2.sh)"
    description: "Backblaze B2 cloud storage integration"
    files:
      - lib/b2.sh
    checklist:
      - text: "Test B2 authentication"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify file upload to B2"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test file download from B2"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check bucket listing"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify error handling for API failures"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  lib_remote:
    name: "Remote Library (lib/remote.sh)"
    description: "Remote server operations"
    files:
      - lib/remote.sh
    checklist:
      - text: "Test SSH connection to remote server"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify file transfer via rsync"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check remote command execution"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test connection timeout handling"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify error handling for failed connections"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  lib_badges:
    name: "Badges Library (lib/badges.sh)"
    description: "Status badge generation"
    files:
      - lib/badges.sh
    checklist:
      - text: "Test badge generation for passing status"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify badge generation for failing status"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check badge output format (SVG or URL)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test badge color coding"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  # ============================================================
  # MOODLE SUPPORT
  # ============================================================

  moodle:
    name: "Moodle Installation (lib/install-moodle.sh)"
    description: "Moodle platform installation support"
    files:
      - lib/install-moodle.sh
    checklist:
      - text: "Test Moodle site installation with dm recipe"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify Moodle admin interface works"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check database is configured correctly"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test course creation functionality"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify user registration works"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  # ============================================================
  # GITLAB INFRASTRUCTURE
  # ============================================================

  gitlab_setup:
    name: "GitLab Setup (git/gitlab_setup.sh)"
    description: "Main GitLab instance provisioning"
    files:
      - git/gitlab_setup.sh
      - git/gitlab_server_setup.sh
      - git/gitlab_create_server.sh
    checklist:
      - text: "Test GitLab server creation on Linode"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify GitLab is accessible via HTTPS"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check admin login works"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test repository creation"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify SSH access to GitLab"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  gitlab_hardening:
    name: "GitLab Hardening (git/gitlab_harden.sh)"
    description: "GitLab security hardening automation"
    files:
      - git/gitlab_harden.sh
    checklist:
      - text: "Test --check mode shows current settings"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test dry-run mode (default) shows changes"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test --apply mode applies changes"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify all 8 hardening options work"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check gitlab.rb backup is created"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  gitlab_repo:
    name: "GitLab Repository Setup (git/setup_gitlab_repo.sh)"
    description: "Repository initialization and site integration"
    files:
      - git/setup_gitlab_repo.sh
      - git/setup_gitlab_site.sh
    checklist:
      - text: "Test repository creation for a site"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify git remote is configured"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check initial commit is pushed"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test site integration with GitLab"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  gitlab_install:
    name: "GitLab Install Library (lib/install-gitlab.sh)"
    description: "GitLab instance installation via DDEV"
    files:
      - lib/install-gitlab.sh
    checklist:
      - text: "Test local GitLab installation via DDEV"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify GitLab container starts"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check admin interface is accessible"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test repository operations"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  # ============================================================
  # LINODE INFRASTRUCTURE
  # ============================================================

  linode_setup:
    name: "Linode Setup (linode/linode_setup.sh)"
    description: "Linode server configuration and provisioning"
    files:
      - linode/linode_setup.sh
      - linode/linode_server_setup.sh
    checklist:
      - text: "Test server creation (use test mode)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify SSH access to new server"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check server configuration is correct"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test firewall rules are applied"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify DNS is configured"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  linode_deploy:
    name: "Linode Deploy (linode/linode_deploy.sh)"
    description: "Deployment automation to Linode servers"
    files:
      - linode/linode_deploy.sh
    checklist:
      - text: "Test deployment to existing server"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify files are synced correctly"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check database is deployed"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test SSL certificate setup"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify site is accessible"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  linode_test_server:
    name: "Linode Test Server (linode/linode_create_test_server.sh)"
    description: "Automated test server creation"
    files:
      - linode/linode_create_test_server.sh
    checklist:
      - text: "Test server creation for testing"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify server is accessible"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check cleanup/deletion works"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test automated provisioning"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  # ============================================================
  # CONFIGURATION
  # ============================================================

  config_example:
    name: "Example Configuration (example.cnwp.yml)"
    description: "Complete configuration template"
    files:
      - example.cnwp.yml
    checklist:
      - text: "Verify all recipe options are documented"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check default values are sensible"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test copying to cnwp.yml works"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify comments explain each option"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check for any missing new options"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  config_secrets:
    name: "Secrets Example (.secrets.example.yml)"
    description: "Secrets configuration template"
    files:
      - .secrets.example.yml
    checklist:
      - text: "Verify all secret placeholders are present"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check structure matches .secrets.yml expectations"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify comments explain each secret"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test copying to .secrets.yml works"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  # ============================================================
  # TESTS
  # ============================================================

  tests_integration:
    name: "Integration Tests (tests/)"
    description: "Integration and unit test suites"
    files:
      - tests/test-integration.sh
      - tests/test-podcast.sh
      - tests/test-yaml-write.sh
    checklist:
      - text: "Run all integration tests"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify tests pass on fresh environment"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check test output is clear"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test individual test files"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify test coverage is adequate"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  # ============================================================
  # CI/CD PIPELINE
  # ============================================================

  ci_scripts:
    name: "CI Helper Scripts (scripts/ci/)"
    description: "CI pipeline helper scripts for database, build, test, coverage"
    files:
      - scripts/ci/fetch-db.sh
      - scripts/ci/build.sh
      - scripts/ci/test.sh
      - scripts/ci/check-coverage.sh
    checklist:
      - text: "Test fetch-db.sh creates sanitized database backup"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test fetch-db.sh --use-cache uses cached database"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test build.sh runs composer install and npm build"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test build.sh imports database and runs drush deploy"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test test.sh runs phpcs, phpstan, phpunit, behat"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test test.sh respects --skip-* flags"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test test.sh creates logs in .logs/ directory"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test check-coverage.sh validates coverage threshold"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify all scripts work within DDEV environment"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: "Added January 2026 - Phase 1 implementation"

  gitlab_ci:
    name: "GitLab CI Configuration (.gitlab-ci.yml)"
    description: "GitLab CI/CD pipeline with database caching and multi-stage deploy"
    files:
      - .gitlab-ci.yml
    checklist:
      - text: "Verify pipeline triggers on push to any branch"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test nightly database job caches production database"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify build job runs all tests"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test coverage job generates reports"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test staging deployment on merge to staging branch"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test production deployment on merge to production branch"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify manual deployment buttons work"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test pipeline artifacts are stored correctly"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: "Added January 2026 - Phase 1 implementation"

  github_actions:
    name: "GitHub Actions Workflow (.github/workflows/)"
    description: "GitHub Actions workflow with DDEV integration"
    files:
      - .github/workflows/build-test-deploy.yml
    checklist:
      - text: "Verify workflow triggers on push/PR/schedule"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test DDEV starts correctly in GitHub Actions"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify database caching works"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test all test types run successfully"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test staging deployment on push to main"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test production deployment on release tag"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify workflow concurrency limits work"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: "Added January 2026 - Phase 1 implementation"

  # ============================================================
  # DEPENDENCY AUTOMATION
  # ============================================================

  renovate:
    name: "Renovate Configuration (renovate.json)"
    description: "Automated dependency updates for Drupal projects"
    files:
      - renovate.json
    checklist:
      - text: "Verify Renovate bot is enabled on repository"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test Drupal core update PR creation"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test contrib module update PR creation"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify auto-merge works for patch updates"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test security alert PRs are created immediately"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check rate limiting (2 PRs/hour, 10/day)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify commit message format"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: "Added January 2026 - Phase 2 implementation"

  security_update:
    name: "Security Update Script (scripts/security-update.sh)"
    description: "Automated security update workflow with testing"
    files:
      - scripts/security-update.sh
    checklist:
      - text: "Test --check mode lists available security updates"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test security branch creation (security/YYYYMMDD)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify composer update --dry-run shows changes"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test composer update applies changes correctly"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify tests run after applying updates"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test commit is created with proper message"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test branch is pushed to remote"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify summary report is accurate"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test notification is sent after update"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: "Added January 2026 - Phase 2 implementation"

  # ============================================================
  # SERVER SCRIPTS
  # ============================================================

  server_bootstrap:
    name: "Server Bootstrap (linode/server_scripts/nwp-bootstrap.sh)"
    description: "Production server initialization and package installation"
    files:
      - linode/server_scripts/nwp-bootstrap.sh
    checklist:
      - text: "Test on fresh Ubuntu 22.04 server"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify all packages installed (nginx, php, mysql, etc.)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check /var/www/{prod,test,old} directories created"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify /var/backups/nwp directory created"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check /var/log/nwp directory created"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test idempotent (runs twice without errors)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify firewall rules applied"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: "Added January 2026 - Phase 3 implementation"

  server_healthcheck:
    name: "Server Health Check (linode/server_scripts/nwp-healthcheck.sh)"
    description: "Comprehensive health monitoring for production sites"
    files:
      - linode/server_scripts/nwp-healthcheck.sh
    checklist:
      - text: "Test HTTP check returns site status"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test Drupal status check via drush"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify database connection check works"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test cache backend check"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test cron status check"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify SSL certificate check"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test disk usage check"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test --json output format"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify exit codes (0=healthy, 1=unhealthy)"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: "Added January 2026 - Phase 3 implementation"

  server_audit:
    name: "Server Audit Logging (linode/server_scripts/nwp-audit.sh)"
    description: "Deployment and operation audit logging"
    files:
      - linode/server_scripts/nwp-audit.sh
    checklist:
      - text: "Test deploy action logging"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify JSON Lines format in deployments.jsonl"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check human-readable format in deployments.log"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify timestamps are correct"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test metadata field storage"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify log rotation doesn't lose data"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: "Added January 2026 - Phase 3 implementation"

  # ============================================================
  # NOTIFICATION SYSTEM
  # ============================================================

  notify_main:
    name: "Notification Router (scripts/notify.sh)"
    description: "Main notification script routing to multiple channels"
    files:
      - scripts/notify.sh
    checklist:
      - text: "Test --event flag with various event types"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test --site flag includes site name"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test --url flag includes clickable link"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify routes to Slack when SLACK_WEBHOOK_URL set"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify routes to email when EMAIL_RECIPIENTS set"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify routes to webhook when WEBHOOK_URL set"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test multiple channels simultaneously"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify event-to-emoji mapping"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: "Added January 2026 - Phase 4 implementation"

  notify_slack:
    name: "Slack Notifications (scripts/notify-slack.sh)"
    description: "Slack webhook integration for deployment notifications"
    files:
      - scripts/notify-slack.sh
    checklist:
      - text: "Test success notification (green color)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test error notification (red color)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test warning notification (yellow color)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify message formatting in Slack"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test link attachment"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify SLACK_WEBHOOK_URL validation"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: "Added January 2026 - Phase 4 implementation"

  notify_email:
    name: "Email Notifications (scripts/notify-email.sh)"
    description: "Email notifications via sendmail/SMTP"
    files:
      - scripts/notify-email.sh
    checklist:
      - text: "Test email delivery via sendmail"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test email delivery via SMTP"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify subject line formatting"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test multiple recipients"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify HTML vs plain text formatting"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: "Added January 2026 - Phase 4 implementation"

  notify_webhook:
    name: "Webhook Notifications (scripts/notify-webhook.sh)"
    description: "Generic webhook integration for external systems"
    files:
      - scripts/notify-webhook.sh
    checklist:
      - text: "Test JSON payload format"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify event type in payload"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test timestamp field"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify metadata fields"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test webhook URL validation"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test response handling"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: "Added January 2026 - Phase 4 implementation"

  # ============================================================
  # CODE QUALITY
  # ============================================================

  phpstan_config:
    name: "PHPStan Configuration (phpstan.neon)"
    description: "Static analysis configuration for Drupal projects"
    files:
      - phpstan.neon
    checklist:
      - text: "Verify level 5 analysis runs without config errors"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test custom module scanning in web/modules/custom"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test custom theme scanning in web/themes/custom"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify Drupal-specific ignores work"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test baseline generation if needed"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: "Added January 2026 - Phase 5 implementation"

  pre_commit_hook:
    name: "Pre-commit Hook (.hooks/pre-commit)"
    description: "Git pre-commit hook for code quality checks"
    files:
      - .hooks/pre-commit
    checklist:
      - text: "Test hook installation to .git/hooks/"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify PHPCS runs on staged PHP files"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify PHPStan runs on staged PHP files"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test commit blocked on PHPCS errors"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test commit blocked on PHPStan errors"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify --no-verify bypasses hook"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test non-PHP files skip PHP checks"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: "Added January 2026 - Phase 5 implementation"

  pr_templates:
    name: "PR/MR Templates"
    description: "Pull/Merge request templates for code review"
    files:
      - .github/PULL_REQUEST_TEMPLATE.md
      - .gitlab/merge_request_templates/default.md
    checklist:
      - text: "Verify GitHub PR template appears on new PR"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify GitLab MR template appears on new MR"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check all checklist items are relevant"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test markdown rendering"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: "Added January 2026 - Phase 5 implementation"

  # ============================================================
  # MULTI-CODER SUPPORT
  # ============================================================

  coder_setup:
    name: "Coder Setup (coder-setup.sh)"
    description: "Multi-coder DNS delegation and management"
    files:
      - coder-setup.sh
      - lib/cloudflare.sh
    checklist:
      - text: "Test add coder: ./coder-setup.sh add codername"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify NS records created in Cloudflare"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test list coders: ./coder-setup.sh list"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test remove coder: ./coder-setup.sh remove codername"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify cnwp.yml other_coders section updated"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test DNS propagation verification"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: "Added January 2026 - Multi-coder infrastructure"

  # ============================================================
  # PHASE 6: MONITORING & OBSERVABILITY
  # ============================================================

  monitoring_daemon:
    name: "Monitoring Daemon (linode/server_scripts/nwp-monitor.sh)"
    description: "Continuous server monitoring with metrics collection and alerting"
    files:
      - linode/server_scripts/nwp-monitor.sh
      - linode/server_scripts/nwp-cron.conf
    checklist:
      - text: "Test metrics collection: ./nwp-monitor.sh --domain example.com /var/www/prod"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify JSON metrics logged to /var/log/nwp/metrics/"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test HTTP status alerts (stop site, verify alert triggers)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test response time alerts (configure low threshold)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test disk usage alerts (configure low threshold)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify cron configuration runs every 5 minutes"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test --verbose mode for debugging"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: "Added January 2026 - Phase 6 implementation"

  production_dashboard:
    name: "Production Dashboard (status.sh production)"
    description: "Production status overview with response times and backup ages"
    files:
      - status.sh
    checklist:
      - text: "Test ./status.sh production command"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify production sites with live.enabled: true are shown"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check response time measurement"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify backup age calculation"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test SSL expiry display"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify quick stats summary"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: "Added January 2026 - Phase 6 implementation"

  # ============================================================
  # PHASE 7: AUTOMATED BACKUPS & DISASTER RECOVERY
  # ============================================================

  scheduled_backup:
    name: "Scheduled Backup (linode/server_scripts/nwp-scheduled-backup.sh)"
    description: "Automated backup with rotation policies"
    files:
      - linode/server_scripts/nwp-scheduled-backup.sh
    checklist:
      - text: "Test database backup: ./nwp-scheduled-backup.sh prod database"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test file backup: ./nwp-scheduled-backup.sh prod files"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test full backup: ./nwp-scheduled-backup.sh prod full"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify backup files created in /var/backups/nwp/"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test rotation (create old backups, verify cleanup)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify audit logging on success"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify notification on failure"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: "Added January 2026 - Phase 7 implementation"

  verify_backup:
    name: "Backup Verification (linode/server_scripts/nwp-verify-backup.sh)"
    description: "Backup integrity verification"
    files:
      - linode/server_scripts/nwp-verify-backup.sh
    checklist:
      - text: "Test with valid .sql.gz backup"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test with valid .tar.gz backup"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test with corrupted backup (should fail)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test with empty file (should fail)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify exit codes (0=valid, 1=invalid)"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: "Added January 2026 - Phase 7 implementation"

  disaster_recovery:
    name: "Disaster Recovery Documentation"
    description: "Comprehensive disaster recovery procedures"
    files:
      - docs/DISASTER_RECOVERY.md
    checklist:
      - text: "Review RTO targets are realistic"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test Scenario 1: Bad Deployment rollback"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test Scenario 2: Database restore from backup"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify all referenced scripts exist"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Review pre-disaster preparation checklist"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: "Added January 2026 - Phase 7 implementation"

  # ============================================================
  # PHASE 8: ENVIRONMENT MANAGEMENT
  # ============================================================

  preview_environments:
    name: "Preview Environments (scripts/ci/create-preview.sh)"
    description: "PR/MR preview environment creation and cleanup"
    files:
      - scripts/ci/create-preview.sh
      - scripts/ci/cleanup-preview.sh
    checklist:
      - text: "Test create preview: ./scripts/ci/create-preview.sh pr-123"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify DDEV project starts"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify database imported from cache"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test preview URL accessibility"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test cleanup: ./scripts/ci/cleanup-preview.sh pr-123"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify DDEV project removed"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: "Added January 2026 - Phase 8 implementation"

  environments_doc:
    name: "Environments Documentation"
    description: "Environment hierarchy and configuration splits"
    files:
      - docs/ENVIRONMENTS.md
    checklist:
      - text: "Review environment hierarchy is accurate"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify config split examples are correct"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check CI/CD examples for GitLab and GitHub"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Review best practices section"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: "Added January 2026 - Phase 8 implementation"

  # ============================================================
  # PHASE 9: ADVANCED AUTOMATION
  # ============================================================

  bluegreen_deploy:
    name: "Blue-Green Deployment (linode/server_scripts/nwp-bluegreen-deploy.sh)"
    description: "Enhanced blue-green deployment with smoke tests"
    files:
      - linode/server_scripts/nwp-bluegreen-deploy.sh
    checklist:
      - text: "Test basic deployment: ./nwp-bluegreen-deploy.sh --domain example.com"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test with canary mode: --canary --canary-percent 10"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify smoke tests run on test environment"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test automatic rollback on failure"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify health check integration"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test --dry-run mode"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: "Added January 2026 - Phase 9 implementation"

  canary_release:
    name: "Canary Releases (linode/server_scripts/nwp-canary.sh)"
    description: "Canary release management with auto-promote/rollback"
    files:
      - linode/server_scripts/nwp-canary.sh
    checklist:
      - text: "Test deploy command: ./nwp-canary.sh deploy --domain example.com"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test status command: ./nwp-canary.sh status"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test promote command: ./nwp-canary.sh promote"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test rollback command: ./nwp-canary.sh rollback"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify auto-promote after monitoring period"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify auto-rollback on errors"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: "Added January 2026 - Phase 9 implementation"

  perf_baseline:
    name: "Performance Baseline (linode/server_scripts/nwp-perf-baseline.sh)"
    description: "Performance baseline capture and comparison"
    files:
      - linode/server_scripts/nwp-perf-baseline.sh
    checklist:
      - text: "Test capture: ./nwp-perf-baseline.sh capture --domain example.com"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify baseline stored in /var/log/nwp/baselines/"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test compare: ./nwp-perf-baseline.sh compare --domain example.com"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test regression detection (>20% slower)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test list and show commands"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: "Added January 2026 - Phase 9 implementation"

  visual_regression:
    name: "Visual Regression (scripts/ci/visual-regression.sh)"
    description: "Visual regression testing with BackstopJS integration"
    files:
      - scripts/ci/visual-regression.sh
    checklist:
      - text: "Test init: ./scripts/ci/visual-regression.sh init --base-url http://test.example.com"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test reference capture: ./scripts/ci/visual-regression.sh reference"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test comparison: ./scripts/ci/visual-regression.sh test"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify report generation in .logs/visual/"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test approve command for baseline updates"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: "Added January 2026 - Phase 9 implementation"

  advanced_deployment_doc:
    name: "Advanced Deployment Documentation"
    description: "Blue-green, canary, and performance tracking documentation"
    files:
      - docs/ADVANCED_DEPLOYMENT.md
    checklist:
      - text: "Review blue-green deployment strategy"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify canary release examples"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check performance baseline documentation"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Review visual regression setup"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: "Added January 2026 - Phase 9 implementation"
