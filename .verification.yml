# NWP Feature Verification Tracking
#
# This file tracks which features have been manually verified by a human.
# When code is modified, the verification status is automatically invalidated.
#
# Fields:
#   verified: true/false - whether a human has verified this feature
#   verified_by: name of the person who verified
#   verified_at: timestamp of verification
#   file_hash: SHA256 hash of the file(s) when verified (used to detect changes)
#   notes: optional notes about the verification
#
# Run ./verify.sh to view and manage verification status

version: 2

features:
  # ============================================================
  # CORE SCRIPTS
  # ============================================================

  setup:
    name: "Setup Script (setup.sh)"
    description: "NWP prerequisites setup - Docker, DDEV, mkcert, Linode CLI, GitLab"
    files:
      - scripts/commands/setup.sh
    checklist:
      - text: "Run setup.sh on a fresh system and verify all prerequisites install"
        completed: true
        completed_by: "rob"
        completed_at: "2026-01-11T21:35:56+11:00"
      - text: "Test Docker installation and verify ddev starts correctly"
        completed: true
        completed_by: "greg"
        completed_at: "2026-01-11T16:02:39-07:00"
      - text: "Verify mkcert generates valid local certificates"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test Linode CLI authentication if configured"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check that all error messages are clear and actionable"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: "notes on setup."

    history:
      - action: "notes_updated"
        by: "greg"
        at: "2026-01-11T16:08:58-07:00"
      - action: "checklist_item_uncompleted"
        by: "greg"
        at: "2026-01-11T16:08:06-07:00"
        context: "Item 3 marked incomplete"
      - action: "checklist_item_completed"
        by: "greg"
        at: "2026-01-11T16:08:05-07:00"
        context: "Item 3 completed"
      - action: "checklist_item_completed"
        by: "greg"
        at: "2026-01-11T16:02:39-07:00"
        context: "Item 2 completed"
      - action: "checklist_item_uncompleted"
        by: "rob"
        at: "2026-01-11T21:35:27+11:00"
        context: "Item 5 marked incomplete"
      - action: "checklist_item_uncompleted"
        by: "rob"
        at: "2026-01-11T21:35:26+11:00"
        context: "Item 4 marked incomplete"
      - action: "checklist_item_uncompleted"
        by: "rob"
        at: "2026-01-11T21:35:24+11:00"
        context: "Item 2 marked incomplete"
      - action: "checklist_item_uncompleted"
        by: "rob"
        at: "2026-01-11T21:35:23+11:00"
        context: "Item 3 marked incomplete"
      - action: "checklist_item_uncompleted"
        by: "rob"
        at: "2026-01-11T21:35:21+11:00"
        context: "Item 1 marked incomplete"
      - action: "checklist_item_completed"
        by: "rob"
        at: "2026-01-11T21:35:56+11:00"
        context: "Item 1 completed"

  install:
    name: "Install Script (install.sh)"
    description: "Main installation script - reads cnwp.yml and installs sites"
    files:
      - scripts/commands/install.sh
      - lib/install-common.sh
      - lib/install-drupal.sh
      - lib/install-steps.sh
    checklist:
      - text: "Test install with 'd' recipe (standard Drupal)"
        completed: true
        completed_by: "greg"
        completed_at: "2026-01-11T16:59:21-07:00"
      - text: "Test install with 'os' recipe (Open Social)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test install with 'nwp' recipe (NWP base)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test install with 'avc' recipe (AV Commons)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test install with 'avc-dev' recipe (AV Commons developer)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test install with 'dm' recipe (Divine Mercy)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test install with 'm' recipe (Moodle)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test install with 'gitlab' recipe"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test install with 'pod' recipe (Podcast)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify site starts and is accessible via browser"
        completed: true
        completed_by: "greg"
        completed_at: "2026-01-11T16:59:39-07:00"
      - text: "Check admin login works with generated credentials"
        completed: true
        completed_by: "greg"
        completed_at: "2026-01-11T16:59:48-07:00"
      - text: "Test install with --list flag"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test install with -s=N (resume from step N)"
        completed: true
        completed_by: "greg"
        completed_at: "2026-01-11T16:59:57-07:00"
      - text: "Test install with --resume flag"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test install with -p=t (testing purpose)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test install with -p=i (indefinite purpose)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test install with -p=p (permanent purpose)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test install with -p=m (migration purpose - stub only)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test install with c flag (create test content)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify cnwp.yml is updated correctly after install"
        completed: true
        completed_by: "greg"
        completed_at: "2026-01-11T17:01:47-07:00"
      - text: "Test install with custom target name"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test install with auto mode enabled in recipe"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test install_step tracking in cnwp.yml"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test interactive option selection works"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

    history:
      - action: "checklist_item_completed"
        by: "greg"
        at: "2026-01-11T17:01:48-07:00"
        context: "Item 20 completed"
      - action: "checklist_item_completed"
        by: "greg"
        at: "2026-01-11T16:59:58-07:00"
        context: "Item 13 completed"
      - action: "checklist_item_completed"
        by: "greg"
        at: "2026-01-11T16:59:48-07:00"
        context: "Item 11 completed"
      - action: "checklist_item_completed"
        by: "greg"
        at: "2026-01-11T16:59:39-07:00"
        context: "Item 10 completed"
      - action: "checklist_item_completed"
        by: "greg"
        at: "2026-01-11T16:59:21-07:00"
        context: "Item 1 completed"
      - action: "checklist_item_uncompleted"
        by: "greg"
        at: "2026-01-11T16:33:29-07:00"
        context: "Item 1 marked incomplete"
      - action: "checklist_item_completed"
        by: "greg"
        at: "2026-01-11T16:33:24-07:00"
        context: "Item 1 completed"
  status:
    name: "Status Script (status.sh)"
    description: "Status display, health checks, and site management"
    files:
      - scripts/commands/status.sh
    checklist:
      - text: "Run status.sh with no arguments - verify all sites listed"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Run status.sh <sitename> - verify detailed info shown"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check running/stopped status is accurate"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify URLs displayed are correct and accessible"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test health check indicators (database, files, config)"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  modify:
    name: "Modify Script (modify.sh)"
    description: "Interactive TUI for modifying site options"
    files:
      - scripts/commands/modify.sh
    checklist:
      - text: "Run modify.sh <sitename> and navigate TUI menus"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test changing site options (theme, modules, etc.)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify changes are saved to cnwp.yml correctly"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test cancel/exit without saving"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check keyboard navigation (arrows, enter, escape)"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  backup:
    name: "Backup Script (backup.sh)"
    description: "Site backup with database, files, git backup, and sanitization"
    files:
      - scripts/commands/backup.sh
      - lib/git.sh
      - lib/sanitize.sh
    checklist:
      - text: "Test full backup: ./backup.sh <sitename>"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test database-only backup: ./backup.sh -b <sitename>"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify backup files created in sitebackups/<sitename>/"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test --sanitize basic flag"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test --sanitize full flag"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test --git flag pushes to GitLab repository"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test --bundle creates git bundle file"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify backup naming convention includes timestamp"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  restore:
    name: "Restore Script (restore.sh)"
    description: "Site restoration from backups"
    files:
      - scripts/commands/restore.sh
      - lib/rollback.sh
    checklist:
      - text: "Test restore from full backup"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test restore from database-only backup"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify interactive backup selection works"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test restore with specific backup file path"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify site works correctly after restore"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test restore to different site name"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  sync:
    name: "Sync Script (sync.sh)"
    description: "Re-sync imported sites with remote sources"
    files:
      - scripts/commands/sync.sh
    checklist:
      - text: "Test sync with an imported site"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify database is updated from remote"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check files are synced correctly"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test sync with --files-only flag"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify local changes are not overwritten unexpectedly"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  copy:
    name: "Copy Script (copy.sh)"
    description: "Copy/duplicate existing sites"
    files:
      - scripts/commands/copy.sh
    checklist:
      - text: "Test full copy: ./copy.sh source dest"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test files-only copy: ./copy.sh -f source dest"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify copied site starts and runs independently"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check database is correctly duplicated"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify cnwp.yml is updated with new site"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test copy to existing site (should warn/fail)"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  delete:
    name: "Delete Script (delete.sh)"
    description: "Site deletion with safety checks"
    files:
      - scripts/commands/delete.sh
    checklist:
      - text: "Test delete with confirmation prompt"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test delete with -y auto-confirm flag"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test delete with -b backup flag (creates backup first)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify DDEV project is stopped and removed"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify site directory is removed"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check cnwp.yml is updated to remove site"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test protection of production sites (should warn)"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  make:
    name: "Make Script (make.sh)"
    description: "Site mode switching (dev/staging/production)"
    files:
      - scripts/commands/make.sh
    checklist:
      - text: "Test dev mode: ./make.sh -v <sitename>"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test prod mode: ./make.sh -p <sitename>"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify dev mode enables devel module and disables caching"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify prod mode uninstalls dev modules and enables caching"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check CSS/JS aggregation settings change correctly"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test with -y auto-confirm flag"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  migration:
    name: "Migration Script (migration.sh)"
    description: "Site migrations from various sources to Drupal 11"
    files:
      - scripts/commands/migration.sh
    checklist:
      - text: "Test migration from Drupal 7 source"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test migration from Drupal 9/10 source"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify content types are migrated correctly"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check users and roles are migrated"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify media/files are migrated"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test migration rollback if available"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  import:
    name: "Import Script (import.sh)"
    description: "Import existing sites from remote sources"
    files:
      - scripts/commands/import.sh
      - lib/import.sh
      - lib/import-tui.sh
      - lib/server-scan.sh
    checklist:
      - text: "Test import from SSH remote server"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test interactive server scanning"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify database is imported correctly"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check files are downloaded and placed correctly"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify imported site starts and runs"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test import with specific database/files paths"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  # ============================================================
  # DEPLOYMENT SCRIPTS
  # ============================================================

  live:
    name: "Live Provisioning (live.sh)"
    description: "Live server provisioning at sitename.nwpcode.org"
    files:
      - scripts/commands/live.sh
    checklist:
      - text: "Test Linode server creation (use test mode if available)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify DNS configuration with Cloudflare"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check SSL certificate is installed correctly"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify site is accessible at sitename.nwpcode.org"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test SSH access to provisioned server"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify firewall rules are applied"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

    history:
      - action: "unverified"
        by: "rob"
        at: "2026-01-11T20:39:41+11:00"
        context: "Manual unverification"
      - action: "verified"
        by: "rob"
        at: "2026-01-11T20:39:27+11:00"
        context: "Manual verification"

  dev2stg:
    name: "Dev to Staging (dev2stg.sh)"
    description: "Deploy from dev to staging with TUI, multi-source DB, and testing"
    files:
      - scripts/commands/dev2stg.sh
      - lib/state.sh
      - lib/database-router.sh
      - lib/testing.sh
      - lib/preflight.sh
      - lib/dev2stg-tui.sh
    checklist:
      - text: "Test preflight only: ./dev2stg.sh --preflight <sitename>"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test TUI mode: ./dev2stg.sh <sitename> (navigate DB and test menus)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test automated mode: ./dev2stg.sh -y <sitename>"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test auto-staging creation when staging doesn't exist"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test database source: auto"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test database source: production"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test database source: backup"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test database source: development"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test with --fresh-backup flag (requires production access)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test with --dev-db flag (clones from development)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test with -t quick (quick test preset)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test with -t essential (essential test preset)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test with -t full (full test preset)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test with -t skip (skip tests)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test custom test selection: -t phpunit,phpstan"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify all 11 deployment steps complete successfully"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify staging has production mode (caching enabled, dev modules off)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify database sanitization (user emails anonymized)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test step resume: ./dev2stg.sh -s 5 <sitename>"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: "Enhanced with TUI, multi-source DB, testing - January 2026"

  stg2prod:
    name: "Staging to Production (stg2prod.sh)"
    description: "Deploy from staging to production"
    files:
      - scripts/commands/stg2prod.sh
    checklist:
      - text: "Test deployment with backup: ./stg2prod.sh -b <sitename>"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify backup is created before deployment"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check production site is updated correctly"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify production mode is enforced"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test database sync options"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify rollback procedure if deployment fails"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  prod2stg:
    name: "Production to Staging (prod2stg.sh)"
    description: "Sync production back to staging"
    files:
      - scripts/commands/prod2stg.sh
    checklist:
      - text: "Test sync: ./prod2stg.sh <sitename>"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify production database is copied to staging"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check files are synced correctly"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify staging still has dev code (code not synced)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test sanitization option if available"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  stg2live:
    name: "Staging to Live (stg2live.sh)"
    description: "Deploy staging to live server"
    files:
      - scripts/commands/stg2live.sh
    checklist:
      - text: "Test deployment to live server"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify files are synced via rsync/SSH"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check database is deployed correctly"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify live site is accessible"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test with dry-run mode if available"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  live2stg:
    name: "Live to Staging (live2stg.sh)"
    description: "Promote live back to staging"
    files:
      - scripts/commands/live2stg.sh
    checklist:
      - text: "Test sync from live to local staging"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify database is downloaded and imported"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check files are synced correctly"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify staging runs with live content"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  live2prod:
    name: "Live to Production (live2prod.sh)"
    description: "Promote live to production"
    files:
      - scripts/commands/live2prod.sh
    checklist:
      - text: "Test promotion to production environment"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify backup is created before promotion"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check production site is updated"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test rollback procedure"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  produce:
    name: "Produce Script (produce.sh)"
    description: "Production environment setup"
    files:
      - scripts/commands/produce.sh
    checklist:
      - text: "Test production environment creation"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify production settings are applied"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check security hardening is enabled"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify caching and performance settings"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  # ============================================================
  # INFRASTRUCTURE SCRIPTS
  # ============================================================

  podcast:
    name: "Podcast Infrastructure (podcast.sh)"
    description: "Castopod podcast hosting infrastructure"
    files:
      - scripts/commands/podcast.sh
      - lib/podcast.sh
      - lib/install-podcast.sh
    checklist:
      - text: "Test podcast site creation"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify Castopod is installed correctly"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check podcast admin interface works"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test podcast RSS feed generation"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify media upload functionality"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  schedule:
    name: "Schedule Script (schedule.sh)"
    description: "Backup and sync scheduling"
    files:
      - scripts/commands/schedule.sh
    checklist:
      - text: "Test schedule creation for backups"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify cron jobs are created correctly"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check scheduled backups run as expected"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test schedule removal"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify schedule listing works"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  security:
    name: "Security Script (security.sh)"
    description: "Security hardening and configuration"
    files:
      - scripts/commands/security.sh
    checklist:
      - text: "Test security audit: ./security.sh audit <sitename>"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test security check: ./security.sh check <sitename>"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test security update: ./security.sh update <sitename>"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify file permissions are checked correctly"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check dev module detection works"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify exposed file detection works"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  setup_ssh:
    name: "SSH Setup (setup-ssh.sh)"
    description: "SSH key generation and management"
    files:
      - scripts/commands/setup-ssh.sh
    checklist:
      - text: "Test SSH key generation"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify keys are created in keys/ directory"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check key is installed to ~/.ssh/nwp"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test connection to remote server with generated key"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify public key output for Linode"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  uninstall:
    name: "Uninstall Script (uninstall_nwp.sh)"
    description: "Complete NWP uninstallation"
    files:
      - scripts/commands/uninstall_nwp.sh
    checklist:
      - text: "Test in dry-run mode if available"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify all DDEV projects are stopped"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check NWP directories are removed"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify Docker resources are cleaned up"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test partial uninstall options if available"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null


  doctor:
    name: "Doctor Script (doctor.sh)"
    description: "Diagnostic and troubleshooting for NWP configuration and prerequisites"
    files:
      - scripts/commands/doctor.sh
    checklist:
      - text: "Test prerequisite checks (Docker, DDEV, PHP, Composer, yq, git)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify Docker daemon running check"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test configuration file validation (cnwp.yml, .secrets.yml)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check network connectivity tests (Linode, Cloudflare, drupal.org)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify common issue detection (disk space, memory, DDEV sites)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test verbose and quiet modes"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  bootstrap_coder:
    name: "Bootstrap Coder (bootstrap-coder.sh)"
    description: "Automated coder identity configuration and NWP setup"
    files:
      - scripts/commands/bootstrap-coder.sh
    checklist:
      - text: "Test interactive coder detection"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify identity validation against GitLab and DNS"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test cnwp.yml configuration with coder subdomain"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify git user configuration setup"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test SSH key verification for GitLab"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check infrastructure readiness verification"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test --coder flag with known identity"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify --dry-run mode"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null


  # ============================================================
  # AVC-MOODLE INTEGRATION
  # ============================================================

  avc_moodle_setup:
    name: "AVC-Moodle Setup (avc-moodle-setup.sh)"
    description: "OAuth2 SSO integration setup between AVC and Moodle sites"
    files:
      - scripts/commands/avc-moodle-setup.sh
      - lib/avc-moodle.sh
    checklist:
      - text: "Test OAuth2 key generation (RSA 2048-bit)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify AVC Drupal modules installation (simple_oauth)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test Moodle plugin installation"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify OAuth2 client configuration in AVC"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test OAuth2 issuer configuration in Moodle"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify SSO flow testing"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test --regenerate-keys flag"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify --skip-test flag"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test --role-sync flag"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test --badge-display flag"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify cnwp.yml integration settings update"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  avc_moodle_status:
    name: "AVC-Moodle Status (avc-moodle-status.sh)"
    description: "Integration health dashboard for AVC-Moodle SSO"
    files:
      - scripts/commands/avc-moodle-status.sh
      - lib/avc-moodle.sh
    checklist:
      - text: "Test SSO status display (active/disabled)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify OAuth2 endpoint health checks"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test last sync time display"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify role sync status"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test --debug flag output"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  avc_moodle_sync:
    name: "AVC-Moodle Sync (avc-moodle-sync.sh)"
    description: "Manual role and cohort synchronization between AVC and Moodle"
    files:
      - scripts/commands/avc-moodle-sync.sh
      - lib/avc-moodle.sh
    checklist:
      - text: "Test full sync (all users and guilds)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify --guild=NAME specific guild sync"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test --user=ID specific user sync"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify --dry-run mode"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test --verbose flag output"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  avc_moodle_test:
    name: "AVC-Moodle Test (avc-moodle-test.sh)"
    description: "OAuth2 SSO and integration functionality testing"
    files:
      - scripts/commands/avc-moodle-test.sh
      - lib/avc-moodle.sh
    checklist:
      - text: "Test OAuth2 endpoint accessibility"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify token exchange functionality"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test user authentication flow"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify role mapping tests"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test badge display functionality"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check test result reporting (pass/fail counts)"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null


  # ============================================================
  # UTILITY & MANAGEMENT SCRIPTS
  # ============================================================

  badges:
    name: "GitLab Badge Management (badges.sh)"
    description: "Manages GitLab CI/CD badges for project READMEs"
    files:
      - scripts/commands/badges.sh
      - lib/badges.sh
    checklist:
      - text: "Test show command displays badge URLs correctly"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify markdown generation works"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test adding badges to site README"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check coverage threshold validation"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  email:
    name: "Email Management (email.sh)"
    description: "Unified interface for email setup, testing, and configuration"
    files:
      - scripts/commands/email.sh
    checklist:
      - text: "Test email setup command"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify email account creation for site"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test email deliverability"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check email rerouting configuration"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  report:
    name: "Error Reporter (report.sh)"
    description: "Wrapper for error reporting to GitLab with pre-filled issue URLs"
    files:
      - scripts/commands/report.sh
    checklist:
      - text: "Test wrapper mode running a command"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify error capture and sanitization"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test GitLab issue URL generation"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check clipboard copy mode"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  rollback:
    name: "Deployment Rollback (rollback.sh)"
    description: "Manages deployment rollback points and recovery"
    files:
      - scripts/commands/rollback.sh
      - lib/rollback.sh
    checklist:
      - text: "Test listing rollback points"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify rollback execution"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test rollback verification"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check cleanup functionality"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  storage:
    name: "Cloud Storage Management (storage.sh)"
    description: "Backblaze B2 cloud storage for backups and podcast media"
    files:
      - scripts/commands/storage.sh
      - lib/b2.sh
    checklist:
      - text: "Test B2 authentication"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify bucket listing"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test file upload to bucket"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check file deletion"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  theme:
    name: "Theme Build Tool Management (theme.sh)"
    description: "Unified frontend build tool management (Gulp, Grunt, Webpack, Vite)"
    files:
      - scripts/commands/theme.sh
      - lib/frontend.sh
    checklist:
      - text: "Test auto-detection of build tools"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify dependency installation"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test watch mode for live reload"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check production build"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test linting functionality"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  contribute:
    name: "Contribution Submission (contribute.sh)"
    description: "Submit contributions to upstream repository via merge request"
    files:
      - scripts/commands/contribute.sh
    checklist:
      - text: "Test pre-flight checks pass"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify test execution"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check MR description generation"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test GitLab CLI integration"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  coder_setup:
    name: "Coder Setup (coder-setup.sh)"
    description: "Multi-coder DNS delegation and management"
    files:
      - scripts/commands/coder-setup.sh
      - lib/cloudflare.sh
    checklist:
      - text: "Test adding a new coder"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify NS records in Cloudflare"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test listing coders"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check coder removal"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  coders:
    name: "Coder Management TUI (coders.sh)"
    description: "Interactive TUI for managing NWP coders with onboarding status tracking"
    files:
      - scripts/commands/coders.sh
    checklist:
      - text: "Test TUI navigation and selection"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify onboarding status checks (GL, GRP, SSH, NS, DNS, SRV, SITE)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test coder promotion functionality"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check bulk actions (delete, promote)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify GitLab sync functionality"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  seo_check:
    name: "SEO Check (seo-check.sh)"
    description: "Comprehensive SEO monitoring and sitemap verification"
    files:
      - scripts/commands/seo-check.sh
    checklist:
      - text: "Test robots.txt validation"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify X-Robots-Tag header checking"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test sitemap.xml verification"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check staging protection verification"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test production SEO optimization checks"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  run_tests:
    name: "Comprehensive Test Runner (run-tests.sh)"
    description: "Runs all levels of tests: unit, integration, and E2E"
    files:
      - scripts/commands/run-tests.sh
    checklist:
      - text: "Test BATS unit tests execution"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify BATS integration tests"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check test output formatting"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test selective test execution"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  upstream:
    name: "Upstream Sync (upstream.sh)"
    description: "Syncs local repository with upstream in distributed contribution model"
    files:
      - scripts/commands/upstream.sh
    checklist:
      - text: "Test upstream configuration"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify sync functionality"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check status reporting"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test merge and rebase strategies"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  migrate_secrets:
    name: "Secrets Migration (migrate-secrets.sh)"
    description: "Migrate to two-tier secrets architecture (infrastructure vs data)"
    files:
      - scripts/commands/migrate-secrets.sh
    checklist:
      - text: "Test dry-run mode"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify data secret detection"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check backup creation"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test NWP root migration"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  security_check:
    name: "HTTP Security Headers Check (security-check.sh)"
    description: "Tests HTTP security headers on any URL (like Mozilla Observatory)"
    files:
      - scripts/commands/security-check.sh
    checklist:
      - text: "Test HSTS header validation"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify CSP header checking"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check X-Frame-Options validation"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test security grading system"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify JSON output mode"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  verify:
    name: "Feature Verification (verify.sh)"
    description: "NWP feature verification tracking with interactive TUI console"
    files:
      - scripts/commands/verify.sh
    checklist:
      - text: "Test TUI console navigation"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify checklist editing functionality"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check verification status tracking"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test file change detection"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify history tracking"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  # ============================================================
  # CLI & TESTING
  # ============================================================

  pl_cli:
    name: "PL CLI Wrapper (pl)"
    description: "Universal CLI wrapper - main command interface"
    files:
      - pl
    checklist:
      - text: "Test pl command with various subcommands"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify pl install works"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify pl backup works"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check pl status works"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test tab completion if available"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify help output is correct"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  test_nwp:
    name: "Test Suite (test-nwp.sh)"
    description: "Comprehensive test suite - 22 test categories"
    files:
      - scripts/commands/test-nwp.sh
      - scripts/commands/test.sh
      - scripts/commands/testos.sh
    checklist:
      - text: "Run full test suite: ./test-nwp.sh"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify all test categories pass"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check test output is clear and readable"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test individual test categories"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify testos.sh OpenSocial tests work"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check Behat/PHPUnit integration if applicable"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  test:
    name: "Test Script (test.sh)"
    description: "Run tests for DDEV sites (PHPCS, PHPStan, PHPUnit, Behat)"
    files:
      - scripts/commands/test.sh
    checklist:
      - text: "Test with -l flag (PHPCS linting only)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test with -t flag (PHPStan only)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test with -u flag (PHPUnit unit tests only)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test with -k flag (PHPUnit kernel tests only)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test with -f flag (PHPUnit functional tests only)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test with -s flag (Behat smoke tests only)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test with -b flag (full Behat tests)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test with -p flag (parallel Behat execution)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test with -a flag (run all tests)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test with --ci flag (CI mode with JUnit output)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test combined flags: -ltu (lint, stan, unit)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify test reports are generated in CI mode"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check that missing test dependencies are detected"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  testos:
    name: "OpenSocial Test Script (testos.sh)"
    description: "Comprehensive testing for OpenSocial distributions (Behat, PHPUnit, PHPStan)"
    files:
      - scripts/commands/testos.sh
    checklist:
      - text: "Test with -b flag (run Behat tests)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test with -u flag (run all PHPUnit tests)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test with -U flag (run PHPUnit unit tests only)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test with -k flag (run PHPUnit kernel tests only)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test with -s flag (run PHPStan static analysis)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test with -c flag (run PHP CodeSniffer)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test with -a flag (run all tests)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test with -f flag (run specific Behat feature)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test with -t flag (run tests with specific tag)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test with --list-features flag"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test with --headless flag (Behat headless mode)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test with --headed flag (Behat with visible browser)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test with --group flag (PHPUnit test group)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test with --coverage flag (generate code coverage)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test with --testdox flag (PHPUnit testdox output)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test with --stop-on-failure flag"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify Selenium Chrome installation works"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify Behat configuration generation works"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check test dependency installation (Behat, PHPUnit, etc.)"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  # ============================================================
  # LIBRARY MODULES
  # ============================================================

  lib_cli_register:
    name: "CLI Registration Library (lib/cli-register.sh)"
    description: "Manages CLI command registration for multiple NWP installations"
    files:
      - lib/cli-register.sh
    checklist:
      - text: "Test register_cli_command function"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify symlink creation in /usr/local/bin/"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test find_available_cli_name (pl, pl1, pl2, etc.)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify cnwp.yml cli_command setting is updated"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test unregister_cli_command function"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify get_cli_command reads from cnwp.yml"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test switching CLI command names"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify stale registration cleanup"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  lib_ddev_generate:
    name: "DDEV Generation Library (lib/ddev-generate.sh)"
    description: "Generate DDEV configuration from .env and cnwp.yml"
    files:
      - lib/ddev-generate.sh
    checklist:
      - text: "Test DDEV config generation from .env file"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify config.yaml is created correctly"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test with different PHP versions (8.1, 8.2, 8.3)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test with different database types (mysql, mariadb)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify webserver type configuration (nginx-fpm, apache-fpm)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test environment variable injection"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify config.local.yaml.example generation"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test service recommendations (Redis, Solr, Memcache)"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  lib_developer:
    name: "Developer Identity Library (lib/developer.sh)"
    description: "Developer roles and permissions management"
    files:
      - lib/developer.sh
    checklist:
      - text: "Test init_developer_config function"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify .nwp-developer.yml creation"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test get_developer_role function"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test get_developer_level function"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify role_to_level and level_to_role conversions"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test can_developer permission checks"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test set_developer_role function"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify sync_developer_info from GitLab"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test show_developer_status display"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify developer_push wrapper (blocks push to main for non-core)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify developer_merge wrapper (blocks merge for non-core)"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  lib_env_generate:
    name: "Environment Generation Library (lib/env-generate.sh)"
    description: "Generate .env file from cnwp.yml and template"
    files:
      - lib/env-generate.sh
    checklist:
      - text: "Test .env generation from recipe and sitename"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify recipe-specific templates are used"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test profile-based template fallback"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify variable substitution works"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test service configuration (Redis, Solr, Memcache)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify .env.local.example creation"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test with different profiles (social, varbase, standard)"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  lib_install_common:
    name: "Install Common Library (lib/install-common.sh)"
    description: "Shared installation functions for all types (Drupal, Moodle, GitLab, Podcast)"
    files:
      - lib/install-common.sh
    checklist:
      - text: "Test run_interactive_options function"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify update_site_options updates cnwp.yml"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test apply_drupal_options function"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test apply_moodle_options function"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test apply_gitlab_options function"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify get_recipe_value YAML parsing"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test get_recipe_list_value for arrays"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify get_settings_value function"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test recipe_exists validation"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify validate_recipe function"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test list_recipes display"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify install_git_profile function"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test install_git_modules function"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify pre_register_live_dns function"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test generate_live_settings function"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify create_test_content function"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  lib_install_drupal:
    name: "Drupal Installation Library (lib/install-drupal.sh)"
    description: "Drupal/OpenSocial installation implementation"
    files:
      - lib/install-drupal.sh
    checklist:
      - text: "Test install_drupal main function"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify Step 1: Initialize project with Composer"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify Step 1: Clone project from Git (source_git)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify Step 2: Generate environment configuration"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify Step 3: Configure DDEV"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify Step 4: Memory configuration"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify Step 5: Launch DDEV services"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify Step 6: Verify Drush is available"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify Step 7: Configure file system and environment detection"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify Step 8: Install Drupal profile"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify Step 9: Enable core modules and post-install"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test resume from step functionality"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify GitLab Composer authentication"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test post-install module enabling"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test post-install script execution"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify site registration in cnwp.yml"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  lib_install_gitlab:
    name: "GitLab Installation Library (lib/install-gitlab.sh)"
    description: "GitLab CE installation via Docker"
    files:
      - lib/install-gitlab.sh
    checklist:
      - text: "Test install_gitlab main function"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify Step 1: Create directory structure"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify Step 2: Create docker-compose.yml"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify Step 3: Create environment configuration"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify Step 4: Start GitLab containers"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test reduced memory mode configuration"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify README.md generation"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test site registration in cnwp.yml"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  lib_install_moodle:
    name: "Moodle Installation Library (lib/install-moodle.sh)"
    description: "Moodle LMS installation implementation"
    files:
      - lib/install-moodle.sh
    checklist:
      - text: "Test install_moodle main function"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify Step 1: Clone Moodle from Git"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify Step 2: Configure DDEV"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify Step 3: Memory configuration"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify Step 4: Launch DDEV services"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify Step 5: Create moodledata directory"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify Step 6: Install Moodle"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify Step 7: Post-installation configuration"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test with different Moodle branches"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify site registration in cnwp.yml"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  lib_install_podcast:
    name: "Podcast Installation Library (lib/install-podcast.sh)"
    description: "Castopod podcast platform installation"
    files:
      - lib/install-podcast.sh
    checklist:
      - text: "Test install_podcast main function"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify podcast.sh integration"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test prerequisite checking"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify domain configuration"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test Linode region selection"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify B2 region configuration"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test media subdomain setup"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify site registration in cnwp.yml"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  lib_install_steps:
    name: "Installation Steps Library (lib/install-steps.sh)"
    description: "Installation step definitions and tracking"
    files:
      - lib/install-steps.sh
    checklist:
      - text: "Test get_steps_for_env function"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify get_total_steps for each environment"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test get_step_info function"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify get_install_step from cnwp.yml"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test set_install_step updates cnwp.yml"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify mark_install_complete function"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test is_install_complete checking"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify get_install_status_display function"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test show_steps_detail display"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify environment-specific steps (dev, stage, live)"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  lib_live_server_setup:
    name: "Live Server Setup Library (lib/live-server-setup.sh)"
    description: "Remote server provisioning on Ubuntu 22.04/24.04 Linode instances"
    files:
      - lib/live-server-setup.sh
    checklist:
      - text: "Test remote_ssh command execution"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify remote_package_installed checking"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test remote_service_running checking"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify ensure_php_fpm installation and configuration"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test PHP-FPM socket permissions for nginx"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify ensure_mariadb installation"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test create_site_database function"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify configure_nginx_drupal vhost generation"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test provision_drupal_stack complete setup"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify check_infrastructure_ready status checks"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test with GitLab bundled nginx (gitlab-www group)"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  lib_terminal:
    name: "Terminal Control Library (lib/terminal.sh)"
    description: "Minimal terminal control functions for TUI"
    files:
      - lib/terminal.sh
    checklist:
      - text: "Test cursor_to positioning"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify cursor_hide and cursor_show"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test clear_screen and clear_line"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify read_key function (UP, DOWN, LEFT, RIGHT)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test ENTER and SPACE key detection"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify ESC key detection"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  lib_tui:
    name: "TUI Library (lib/tui.sh)"
    description: "Terminal UI framework - menus, checkboxes, forms"
    files:
      - lib/tui.sh
    checklist:
      - text: "Test menu display and navigation"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify checkbox selection works"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test form input fields"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check color rendering in different terminals"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify keyboard shortcuts work correctly"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  lib_checkbox:
    name: "Checkbox Library (lib/checkbox.sh)"
    description: "Advanced interactive checkbox selection"
    files:
      - lib/checkbox.sh
    checklist:
      - text: "Test checkbox display with multiple items"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify space bar toggles selection"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check arrow key navigation"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test Enter to confirm selection"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify Escape to cancel"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  lib_yaml_write:
    name: "YAML Write Library (lib/yaml-write.sh)"
    description: "YAML file manipulation without yq"
    files:
      - lib/yaml-write.sh
    checklist:
      - text: "Test reading YAML values"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test writing/updating YAML values"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify nested value handling"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check array handling"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test with special characters in values"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  lib_common:
    name: "Common Library (lib/common.sh)"
    description: "Common utilities - validation, secrets, prompts"
    files:
      - lib/common.sh
    checklist:
      - text: "Test get_secret() reads from .secrets.yml"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test get_setting() reads from cnwp.yml"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify sitename validation"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check prompt functions work correctly"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test path handling utilities"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  lib_ui:
    name: "UI Library (lib/ui.sh)"
    description: "Basic UI utilities - colors, status messages"
    files:
      - lib/ui.sh
    checklist:
      - text: "Test print_status with OK, WARN, FAIL, INFO"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify colors display correctly"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check print_header formatting"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test print_error output"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify ocmsg debug output"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  lib_git:
    name: "Git Library (lib/git.sh)"
    description: "Git backup, bundling, GitLab API operations"
    files:
      - lib/git.sh
    checklist:
      - text: "Test git backup creation"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify git bundle creation"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test GitLab API project creation"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check git push to remote"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify incremental backup handling"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  lib_cloudflare:
    name: "Cloudflare Library (lib/cloudflare.sh)"
    description: "Cloudflare DNS and SSL management"
    files:
      - lib/cloudflare.sh
    checklist:
      - text: "Test DNS record creation"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify DNS record lookup"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check zone ID resolution"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test API authentication"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify error handling for API failures"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  lib_linode:
    name: "Linode Library (lib/linode.sh)"
    description: "Linode API operations and provisioning"
    files:
      - lib/linode.sh
    checklist:
      - text: "Test Linode instance creation (use test mode)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify instance listing"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check API token authentication"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test instance deletion"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify error handling"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  lib_b2:
    name: "B2 Library (lib/b2.sh)"
    description: "Backblaze B2 cloud storage integration"
    files:
      - lib/b2.sh
    checklist:
      - text: "Test B2 authentication"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify file upload to B2"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test file download from B2"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check bucket listing"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify error handling for API failures"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  lib_remote:
    name: "Remote Library (lib/remote.sh)"
    description: "Remote server operations"
    files:
      - lib/remote.sh
    checklist:
      - text: "Test SSH connection to remote server"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify file transfer via rsync"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check remote command execution"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test connection timeout handling"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify error handling for failed connections"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  lib_badges:
    name: "Badges Library (lib/badges.sh)"
    description: "Status badge generation"
    files:
      - lib/badges.sh
    checklist:
      - text: "Test badge generation for passing status"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify badge generation for failing status"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check badge output format (SVG or URL)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test badge color coding"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  lib_state:
    name: "State Library (lib/state.sh)"
    description: "Deployment state tracking and persistence"
    files:
      - lib/state.sh
    checklist:
      - text: "Test state initialization"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify state saving between steps"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check state restoration on resume"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test state cleanup on completion"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  lib_database_router:
    name: "Database Router Library (lib/database-router.sh)"
    description: "Multi-source database routing for deployments"
    files:
      - lib/database-router.sh
    checklist:
      - text: "Test auto source selection"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify production database access"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test backup database selection"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check development database cloning"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  lib_testing:
    name: "Testing Library (lib/testing.sh)"
    description: "Test orchestration and preset management"
    files:
      - lib/testing.sh
    checklist:
      - text: "Test quick preset execution"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify essential preset"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check full test suite preset"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test custom test selection"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  lib_preflight:
    name: "Preflight Library (lib/preflight.sh)"
    description: "Pre-deployment validation checks"
    files:
      - lib/preflight.sh
    checklist:
      - text: "Test site existence validation"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify DDEV status checks"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check git status validation"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test dependency verification"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  lib_dev2stg_tui:
    name: "Dev2Stg TUI Library (lib/dev2stg-tui.sh)"
    description: "Interactive TUI for dev2stg deployment options"
    files:
      - lib/dev2stg-tui.sh
    checklist:
      - text: "Test database source selection menu"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify test preset selection"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check navigation and confirmation"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  lib_safe_ops:
    name: "Safe Operations Library (lib/safe-ops.sh)"
    description: "Proxy functions that return sanitized output without exposing secrets"
    files:
      - lib/safe-ops.sh
    checklist:
      - text: "Test safe_server_status returns sanitized data"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify safe_db_status hides credentials"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check safe_security_check sanitization"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  lib_sanitize:
    name: "Sanitize Library (lib/sanitize.sh)"
    description: "Database sanitization for backups (basic and full modes)"
    files:
      - lib/sanitize.sh
    checklist:
      - text: "Test basic sanitization (emails only)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify full sanitization (emails, passwords, sessions)"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check admin user preservation"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  lib_import:
    name: "Import Library (lib/import.sh)"
    description: "Site import functionality from remote sources"
    files:
      - lib/import.sh
    checklist:
      - text: "Test SSH connection and authentication"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify database download and import"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check file synchronization"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  lib_import_tui:
    name: "Import TUI Library (lib/import-tui.sh)"
    description: "Interactive TUI for import operations"
    files:
      - lib/import-tui.sh
    checklist:
      - text: "Test server selection menu"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify site selection interface"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check import option configuration"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  lib_server_scan:
    name: "Server Scan Library (lib/server-scan.sh)"
    description: "Remote server scanning and site detection"
    files:
      - lib/server-scan.sh
    checklist:
      - text: "Test server connectivity check"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify Drupal site detection"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check database discovery"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  lib_frontend:
    name: "Frontend Library (lib/frontend.sh)"
    description: "Frontend build tool detection and management"
    files:
      - lib/frontend.sh
    checklist:
      - text: "Test Gulp detection and execution"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify Grunt support"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check Webpack integration"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test Vite support"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null


  lib_avc_moodle:
    name: "AVC-Moodle Integration Library (lib/avc-moodle.sh)"
    description: "Shared functions for AVC-Moodle SSO, role sync, and data display"
    files:
      - lib/avc-moodle.sh
    checklist:
      - text: "Test get_site_directory function"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify get_site_recipe detection"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test OAuth2 key generation helpers"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify role mapping functions"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test cohort synchronization functions"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  lib_podcast:
    name: "Podcast Library (lib/podcast.sh)"
    description: "High-level functions for Castopod podcast hosting infrastructure"
    files:
      - lib/podcast.sh
    checklist:
      - text: "Test generate_password function"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify generate_castopod_env function"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test Linode orchestration helpers"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify Cloudflare DNS configuration"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test B2 storage configuration"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  lib_ssh:
    name: "SSH Library (lib/ssh.sh)"
    description: "SSH connection helpers with security controls"
    files:
      - lib/ssh.sh
    checklist:
      - text: "Test get_ssh_host_key_checking function"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify show_ssh_security_warning output"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test get_ssh_options array generation"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify NWP_SSH_STRICT=1 strict mode"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test accept-new mode (default)"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null


  # ============================================================
  # CONFIGURATION
  # ============================================================

  config_example:
    name: "Example Configuration (example.cnwp.yml)"
    description: "Complete configuration template"
    files:
      - example.cnwp.yml
    checklist:
      - text: "Verify all recipe options are documented"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check default values are sensible"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test copying to cnwp.yml works"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify comments explain each option"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check for any missing new options"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null

  config_secrets:
    name: "Secrets Example (.secrets.example.yml)"
    description: "Secrets configuration template"
    files:
      - .secrets.example.yml
    checklist:
      - text: "Verify all secret placeholders are present"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Check structure matches .secrets.yml expectations"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Verify comments explain each secret"
        completed: false
        completed_by: null
        completed_at: null
      - text: "Test copying to .secrets.yml works"
        completed: false
        completed_by: null
        completed_at: null
    verified: false
    verified_by: null
    verified_at: null
    file_hash: null
    notes: null
