# NWP Infrastructure .gitignore
# This file ignores everything except the core NWP infrastructure files
# Users will have their own cnwp.yml configuration (ignored)
# and their own site installations (ignored)

# Ignore everything by default
/*

# Whitelist NWP infrastructure files

# Core scripts
!backup.sh
!copy.sh
!delete.sh
!dev2stg.sh
!install.sh
!make.sh
!migration.sh
!restore.sh
!setup.sh
!setup-ssh.sh
!stg2prod.sh
!prod2stg.sh
!test.sh
!test-nwp.sh
!testos.sh
!uninstall_nwp.sh
!schedule.sh
!pl
!pl-completion.bash
!security.sh
!live.sh
!stg2live.sh
!live2stg.sh
!live2prod.sh
!produce.sh
!podcast.sh
!modify.sh
!status.sh
!import.sh
!sync.sh
!verify.sh
!report.sh
!coder-setup.sh

# CI/CD and code quality
!.gitlab-ci.yml
!.github/
!.github/**
!.gitlab/
!.gitlab/**
!.hooks/
!.hooks/**
!renovate.json
!phpstan.neon

# Scripts directory
!scripts/
!scripts/**

# Verification tracking
!.verification.yml

# Documentation and metadata
!README.md
!KNOWN_ISSUES.md
!LICENSE
!CLAUDE.md
!folder_proposal.md
!avc_folder_implementation_plan.md
!IMPLEMENTATION_SUMMARY.md
!nwp-improvement-proposal.md

# Configuration templates (not user configs)
!example.cnwp.yml
!.secrets.example.yml
!.secrets.data.example.yml

# Migration scripts
!migrate-secrets.sh

# Documentation directory
!docs/
!docs/**

# Vortex configuration templates
!vortex/
!vortex/**

# Linode deployment infrastructure
!linode/
!linode/**

# GitLab deployment infrastructure
!git/
!git/**

# URL management infrastructure
!url/
!url/**

# Libraries
!lib/
!lib/**

# Email infrastructure
!email/
!email/**

# Tests
!tests/
!tests/**

# Templates for new sites
!templates/
!templates/**

# AVC bits (scripts, utilities)
!avcbits/
!avcbits/**

# SSH keys directory (structure tracked, contents ignored)
!keys/
!keys/.gitkeep

# Keep .gitignore itself
!.gitignore

# However, always ignore secrets and local overrides anywhere in the tree
# SSH key contents (keep directory but ignore all keys)
keys/*
!keys/.gitkeep
**/.secrets.yml
**/.secrets.yaml
**/.env.local
**/.ddev/config.local.yaml
**/.ddev/config.*.yaml
!**/.ddev/config.yaml
**/*.local.yml
**/*.local.yaml
