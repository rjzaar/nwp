# NWP Infrastructure .gitignore
# This file ignores everything except the core NWP infrastructure files
# Users will have their own cnwp.yml configuration (ignored)
# and their own site installations (ignored)

# Ignore everything by default
/*

# Whitelist NWP infrastructure files

# Sites directory (where site installations go)
# The folder is tracked but contents are ignored
!sites/
sites/*
!sites/.gitkeep

# Command entry points (symlinks to scripts/commands/)
# Users run ./setup.sh to bootstrap
# After setup, use the `pl` CLI command to run all other scripts
!setup.sh
!podcast.sh
!install.sh

# CLI completion (installed by setup)
!pl
!pl-completion.bash

# CI/CD and code quality
!.gitlab-ci.yml
!.github/
!.github/**
!.gitlab/
!.gitlab/**
!.hooks/
!.hooks/**
!renovate.json
!phpstan.neon

# Scripts directory
!scripts/
!scripts/**

# Verification tracking
!.verification.yml

# Documentation and metadata
!README.md
!CHANGELOG.md
!CONTRIBUTING.md
!KNOWN_ISSUES.md
!LICENSE
!CLAUDE.md
!folder_proposal.md
!avc_folder_implementation_plan.md
!IMPLEMENTATION_SUMMARY.md
!nwp-improvement-proposal.md

# Configuration templates (not user configs)
!example.cnwp.yml
!.secrets.example.yml
!.secrets.data.example.yml
!.nwp-developer.example.yml

# Migration scripts (access via pl or scripts/commands/)

# Documentation directory
!docs/
!docs/**

# Vortex configuration templates
!vortex/
!vortex/**

# Linode deployment infrastructure
!linode/
!linode/**

# GitLab deployment infrastructure
!git/
!git/**

# URL management infrastructure
!url/
!url/**

# Libraries
!lib/
!lib/**

# Email infrastructure
!email/
!email/**

# Tests
!tests/
!tests/**

# Templates for new sites
!templates/
!templates/**

# AVC bits (scripts, utilities)
!avcbits/
!avcbits/**

# SSH keys directory (structure tracked, contents ignored)
!keys/
!keys/.gitkeep

# Keep .gitignore itself
!.gitignore

# However, always ignore secrets and local overrides anywhere in the tree
# SSH key contents (keep directory but ignore all keys)
keys/*
!keys/.gitkeep
**/.secrets.yml
**/.secrets.yaml
**/.env.local
**/.ddev/config.local.yaml
**/.ddev/config.*.yaml
!**/.ddev/config.yaml
**/*.local.yml
**/*.local.yaml
